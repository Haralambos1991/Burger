<div> <img src="assets/image/eatTheBurger.png" class="center" alt=" burger image"></div>
<h1 class="text-center"> Eat-the-burger</h1>

<div class="row">

<div class="col-md-7">
{{#each burgers}}
{{unless devoured}}
<div class="row">
   <div class="col-md-5"></div>
   <div class="col-md-4">{{this.id}}. {{this.burger_name}}</div>
   </div>
   {{/unless}}
   {{/each}}
   </div>

   <div class="col-md-5">
    {{#each burgers}}
    {{#if devoured}}
    <div class="row">
    <div class="right">{{this.id}}. {{this.burger_name}}</div>
    </div>
    {{/if}}
    {{/each}}
    </div>

    </div>
    <div class="row space">
    
    <form id="btnform" class="inputbutton textcenter">
    <input type="text" class="inputbox" id="burgerinput">
    <p><input id="addburger" class="bluebutton" type="submit" value="Submit"><p>
    </form>

    <h5 class="textcenter">Enter the name of the burger you want to eat.Click the "submit" button</h5>

    </div>

    <script type="text/javascript">
    $("#addburger").on(click, function (event) {
        //Prevent Default on the submit event//
        event.preventDefault();

        let inputBurger= $("#burgerinput").val().trim()

        let newBurger = {
            burger_name: inputBurger,
            devoured: false
        };console.log("newBurger", newBurger);

        //Send the post request.
        $.ajax("/api/burgers", {
            type: "POST",
            data: newBurger
        }).then(
            function () {
                console.log("added new burger")
                //Here we reload the page to get the updated list//
                location.reload();
            }
        );
    });

$(".eat-burger").on("click", function (event) {
    //We will be sure to preventDefault on the submit button//
    event.preventDefault();

    console.log("devour it clicked");

    console.log("button id", $(this).data("burgerid")  );

    let id = $(this).data("burgerid");

    // Right now we will send the put request//
    $.ajax("/api/burgers/" + id, {
        type: "PUT"
        data: id
    }).then(
        function () {
            console.log("updated id ", id);
            //We reload the page to get the updated list//
            location.reload();
        }
    );
});
</script>